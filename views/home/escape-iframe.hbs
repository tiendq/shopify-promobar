<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
</head>
<body>
  <script>
    // If the current window is the 'parent', change the URL by setting location.href.
    if (window.top === window.self) {
      window.top.location.href = '{{{oauthUrl}}}';
    } else {
      // If the current window is the 'child', change the parent's URL with postMessage.
      var message = JSON.stringify({
        message: 'Shopify.API.remoteRedirect',
        data: {
          location: '{{{oauthUrl}}}'
        }
      });

      window.parent.postMessage(message, '{{{targetOrigin}}}');
    }
  </script>
</body>
</html>
